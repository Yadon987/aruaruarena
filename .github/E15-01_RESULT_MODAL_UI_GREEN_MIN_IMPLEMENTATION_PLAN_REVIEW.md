# レビュー結果: E15-01 GREEN最小実装計画書

レビュー対象: `.github/E15-01_RESULT_MODAL_UI_GREEN_MIN_IMPLEMENTATION_PLAN.md`  
参照: `.github/ISSUE_TEMPLATE/Issue_review.md`, `.github/E15-01_RESULT_MODAL_UI_RED_TEST_PLAN.md`, Issue `#64`

---

- [重要度: 高]
- 問題点  
  「今回は実装しない」項目に `非同期競合` が含まれているが、Issue `#64` の受け入れ条件には「異なる id を短時間で連続選択した場合、最後に選択した id の結果のみ表示」が含まれており、最小実装対象から完全除外すると仕様未達が発生する。
- 改善提案  
  最小実装対象へ「後勝ち制御（最低限）」を追加し、厳密最適化のみ後続へ送ることを明示する。

- [重要度: 高]
- 問題点  
  AC と実装ステップの対応が明示されておらず、どのステップでどの受け入れ条件を満たすか判断しづらい。
- 改善提案  
  AC マッピング表を追加し、Step ごとの達成ACを明文化する。

- [重要度: 中]
- 問題点  
  エラー時の `再試行` について、どのデータソース（ランキング選択・自分の投稿選択・審査遷移）で同一 `id` を再取得するかの挙動が曖昧。
- 改善提案  
  `activePostId` と `openSource` を保持し、再試行時は `activePostId` を再取得する単一仕様に固定する。

- [重要度: 中]
- 問題点  
  アクセシビリティ要件のうち、初期フォーカス・フォーカス復帰・Tab循環が実装対象に含まれているが、手順に具体化されていない。
- 改善提案  
  Step に「初期フォーカス」「フォーカストラップ」「フォーカス復帰」を追加する。

- [重要度: 中]
- 問題点  
  ローディング表示の定義が `読み込み中...` のみで、既存 `judging` 画面との責務境界が曖昧。
- 改善提案  
  「結果モーダル内の取得状態」のみに適用することを明記し、`judging` 画面とは分離する。

- [重要度: 低]
- 問題点  
  非機能要件（背景スクロールロック、SPスクロール）の実装判定が記載されていない。
- 改善提案  
  最低限の CSS クラス/属性で成立する判定条件を完了条件へ追記する。

- [重要度: 低]
- 問題点  
  DynamoDB 観点が未記載で、レビュー観点 6 への回答が不足。
- 改善提案  
  「本Issueはフロント実装のみで DynamoDB の PK/SK/GSI 変更なし」を明記し、アクセスパターンは既存 `GET /api/posts/:id` 前提であると追記する。

---

## 反映指示

上記の指摘を反映して、計画書本体を以下の方針で上書きする:

1. 最小実装スコープへ「後勝ち制御（最低限）」を追加  
2. AC-実装ステップ対応表を追加  
3. `activePostId` を基準にした再試行仕様を固定  
4. A11y 実装手順の具体化  
5. 非機能・DynamoDBの記述を最小限追記  
